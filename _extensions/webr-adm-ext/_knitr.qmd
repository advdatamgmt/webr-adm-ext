```{r echo=FALSE}
# Setup knitr for handling {adm}
# TODO: With quarto-dev/quarto-cli#10169, we can implement this in a filter

# We'll handle `include: false` in Lua, always include cell in knitr output
knitr::opts_hooks$set(include = function(options) {
  if (options$engine == "adm") {
    options$include <- TRUE
  }
  options
})

# Passthrough engine for adm
knitr::knit_engines$set(adm = function(options) {
  knitr:::one_string(c(
    "```{adm}",
    options$yaml.code,
    options$code,
    "```"
  ))
})
```
